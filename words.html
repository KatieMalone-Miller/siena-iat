<!DOCTYPE html>
<html>
<head>
	<title>Implicit Association Test Example</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">
<script>
$(document).ready(function(){
	var negative = ["Pessimistic", "Anarchy", "Agony", "Failure", "Weak", "Stupid", "Evil", "Jealous", "Enemies", "Suffering", "Misery", "Torture"];
	var positive = ["Intellectual", "Laughter", "Approval", "Confidence", "Perfect", "Allowed", "Innocent", "Sensual", "Smiling", "Love", "Friendship", "Optimism"];

	var c = "";
	var count = 0;
	var start = 0;

	$(document).keyup(function(e){
		//alert(e.keyCode); //69 = e, 73 = i, 32 = space
		//$("#console").html(String.fromCharCode(e.keyCode));
		if(count <= 20){
		if(e.which == 32 && c == ""){
			var choose = Math.random();
			c = choose;
			count++;
			var random = Math.floor((Math.random() * 12) + 1); 
			if(choose >= 0.5){ //positive
				$("#console").html(positive[random]);
				count++;
			}else if(choose < 0.5){ //negative
				$("#console").html(negative[random]);
				count++;
			}
		}else if(e.which == 69 || e.which == 73){
			if(((e.which == 69) && (c >= 0.5)) || ((e.which == 73) && (c < 0.5))){
				var choose = Math.random();
				c = choose;
				var random = Math.floor((Math.random() * 12) + 1); 
				if(choose >= 0.5){ //positive
					$("#console").html(positive[random]);
					e.preventDefault();
        			var date = new Date();
       	 			var seconds = date.getTime()/1000;
        			var diff = seconds - start;
        			start = seconds
        			var output = "diff = " + diff + "<br>";
        			$("#console2").html(output);    
					count++;
				}else{ //negative
					$("#console").html(negative[random]);
					e.preventDefault();
        			var date = new Date();
        			var seconds = date.getTime()/1000;
        			var diff = seconds - start;
        			start = seconds
        			var output = "diff = " + diff + "<br>";
        			$("#console2").html(output);    
					count++;
				}
			}
		}
		}
		if(count == 21){
		alert("done!");
		return;
		}
	});
	
});
</script>
</head>
<body>
<p>24 Words will be shown. Press 'e' if the word is positive, 'i' if the word is negative. Press 'spacebar' to begin.</p>
<p id="console"></p>
<p id="console2"></p>
</body>
</html>
